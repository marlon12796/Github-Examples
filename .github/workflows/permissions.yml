name: Example - GitHub Token Permissions
on:
  workflow_dispatch:

##############################
# üëÅÔ∏è Global Permissions (opcionales)
##############################
# Estos permisos se aplican a todos los jobs,
# a menos que se sobrescriban dentro de un job.
permissions:
  contents: read
jobs:
  # üß± Job 1: solo lectura
  read-only-job:
    runs-on: ubuntu-latest
    permissions: 
      pull-requests: read
      contents: read
    steps:
      - uses: actions/checkout@v4 
      - name: Intentar editar t√≠tulo de PR
        run: gh pr edit 1 --title "Nuevo Titulo desde Read Only "
        env: 
          GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      - name: Confirmar Fallo
        if: failure()
        run: echo "‚ùå No se pudo editar el PR (permiso insuficiente)."
  # ‚úÖ Job con permiso de escritura (funcionar√°)
  write-pr:
    runs-on: ubuntu-latest
    permissions: 
      pull-requests: write
      contents: read
    steps:
      - uses: actions/checkout@v4 
      - name: Editar t√≠tulo de PR
        run: gh pr edit 1 --title "Nuevo t√≠tulo desde write-permission ‚úÖ"
        env: 
          GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      - name: Agregar comentario al PR
        run: gh pr comment 1 --body "üí¨ Comentario agregado autom√°ticamente con permiso *write*."
        env:
          GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      - name: Confirmar exito
        if: success()
        run: echo "‚úÖ El t√≠tulo y comentario fueron actualizados correctamente."